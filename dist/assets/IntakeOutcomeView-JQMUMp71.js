import{i as On,a as Jn,b as Rn,d as Qn,e as jn,r as te,s as tt,f as dt,c as Lt,o as an}from"./transform-cCkha_rj.js";import{_ as ne,o as ee,c as re,a as ie}from"./index-EzdrIXnI.js";import{c as nn,j as oe}from"./colors-_AWqXR07.js";import{p as ae,a as ln}from"./pie-kHUYJ-Z5.js";class rt{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const u=r[i],s=n+u,f=Math.abs(n)<Math.abs(u)?n-(s-u):u-(s-n);f&&(r[e++]=f),n=s}return r[e]=n,this._n=e+1,this}valueOf(){const n=this._partials;let r=this._n,e,i,u,s=0;if(r>0){for(s=n[--r];r>0&&(e=s,i=n[--r],s=e+i,u=i-(s-e),!u););r>0&&(u<0&&n[r-1]<0||u>0&&n[r-1]>0)&&(i=u*2,e=s+i,i==e-s&&(s=e))}return s}}function*le(t){for(const n of t)yield*n}function An(t){return Array.from(le(t))}function ue(t,n){n===void 0&&(n=t,t=On);for(var r=0,e=n.length-1,i=n[0],u=new Array(e<0?0:e);r<e;)u[r]=t(i,i=n[++r]);return function(s){var f=Math.max(0,Math.min(e-1,Math.floor(s*=e)));return u[f](s-f)}}var R=1e-6,ce=1e-12,O=Math.PI,G=O/2,un=O/4,Z=O*2,U=180/O,q=O/180,K=Math.abs,fe=Math.atan,ct=Math.atan2,H=Math.cos,C=Math.sin,bt=Math.sign||function(t){return t>0?1:t<0?-1:0},j=Math.sqrt;function se(t){return t>1?0:t<-1?O:Math.acos(t)}function it(t){return t>1?G:t<-1?-G:Math.asin(t)}function X(){}function It(t,n){t&&fn.hasOwnProperty(t.type)&&fn[t.type](t,n)}var cn={Feature:function(t,n){It(t.geometry,n)},FeatureCollection:function(t,n){for(var r=t.features,e=-1,i=r.length;++e<i;)It(r[e].geometry,n)}},fn={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)t=r[e],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ht(t.coordinates,n,0)},MultiLineString:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)Ht(r[e],n,0)},Polygon:function(t,n){sn(t.coordinates,n)},MultiPolygon:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)sn(r[e],n)},GeometryCollection:function(t,n){for(var r=t.geometries,e=-1,i=r.length;++e<i;)It(r[e],n)}};function Ht(t,n,r){var e=-1,i=t.length-r,u;for(n.lineStart();++e<i;)u=t[e],n.point(u[0],u[1],u[2]);n.lineEnd()}function sn(t,n){var r=-1,e=t.length;for(n.polygonStart();++r<e;)Ht(t[r],n,1);n.polygonEnd()}function lt(t,n){t&&cn.hasOwnProperty(t.type)?cn[t.type](t,n):It(t,n)}function xt(t){return[ct(t[1],t[0]),it(t[2])]}function ft(t){var n=t[0],r=t[1],e=H(r);return[e*H(n),e*C(n),C(r)]}function Et(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function _t(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function $t(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function St(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Yt(t){var n=j(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function zt(t,n){function r(e,i){return e=t(e,i),n(e[0],e[1])}return t.invert&&n.invert&&(r.invert=function(e,i){return e=n.invert(e,i),e&&t.invert(e[0],e[1])}),r}function Ft(t,n){return K(t)>O&&(t-=Math.round(t/Z)*Z),[t,n]}Ft.invert=Ft;function de(t,n,r){return(t%=Z)?n||r?zt(pn(t),hn(n,r)):pn(t):n||r?hn(n,r):Ft}function dn(t){return function(n,r){return n+=t,K(n)>O&&(n-=Math.round(n/Z)*Z),[n,r]}}function pn(t){var n=dn(t);return n.invert=dn(-t),n}function hn(t,n){var r=H(t),e=C(t),i=H(n),u=C(n);function s(f,m){var h=H(m),a=H(f)*h,d=C(f)*h,o=C(m),l=o*r+a*e;return[ct(d*i-l*u,a*r-o*e),it(l*i+d*u)]}return s.invert=function(f,m){var h=H(m),a=H(f)*h,d=C(f)*h,o=C(m),l=o*i-d*u;return[ct(d*i+o*u,a*r+l*e),it(l*r-a*e)]},s}function pe(t,n,r,e,i,u){if(r){var s=H(n),f=C(n),m=e*r;i==null?(i=n+e*Z,u=n-m/2):(i=vn(s,i),u=vn(s,u),(e>0?i<u:i>u)&&(i+=e*Z));for(var h,a=i;e>0?a>u:a<u;a-=m)h=xt([s,-f*H(a),-f*C(a)]),t.point(h[0],h[1])}}function vn(t,n){n=ft(n),n[0]-=t,Yt(n);var r=se(-n[1]);return((-n[2]<0?-r:r)+Z-R)%Z}function Bn(){var t=[],n;return{point:function(r,e,i){n.push([r,e,i])},lineStart:function(){t.push(n=[])},lineEnd:X,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function Nt(t,n){return K(t[0]-n[0])<R&&K(t[1]-n[1])<R}function wt(t,n,r,e){this.x=t,this.z=n,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function Ln(t,n,r,e,i){var u=[],s=[],f,m;if(t.forEach(function(c){if(!((v=c.length-1)<=0)){var v,g=c[0],b=c[v],w;if(Nt(g,b)){if(!g[2]&&!b[2]){for(i.lineStart(),f=0;f<v;++f)i.point((g=c[f])[0],g[1]);i.lineEnd();return}b[0]+=2*R}u.push(w=new wt(g,c,null,!0)),s.push(w.o=new wt(g,null,w,!1)),u.push(w=new wt(b,c,null,!1)),s.push(w.o=new wt(b,null,w,!0))}}),!!u.length){for(s.sort(n),gn(u),gn(s),f=0,m=s.length;f<m;++f)s[f].e=r=!r;for(var h=u[0],a,d;;){for(var o=h,l=!0;o.v;)if((o=o.n)===h)return;a=o.z,i.lineStart();do{if(o.v=o.o.v=!0,o.e){if(l)for(f=0,m=a.length;f<m;++f)i.point((d=a[f])[0],d[1]);else e(o.x,o.n.x,1,i);o=o.n}else{if(l)for(a=o.p.z,f=a.length-1;f>=0;--f)i.point((d=a[f])[0],d[1]);else e(o.x,o.p.x,-1,i);o=o.p}o=o.o,a=o.z,l=!l}while(!o.v);i.lineEnd()}}}function gn(t){if(n=t.length){for(var n,r=0,e=t[0],i;++r<n;)e.n=i=t[r],i.p=e,e=i;e.n=i=t[0],i.p=e}}function Dt(t){return K(t[0])<=O?t[0]:bt(t[0])*((K(t[0])+O)%Z-O)}function he(t,n){var r=Dt(n),e=n[1],i=C(e),u=[C(r),-H(r),0],s=0,f=0,m=new rt;i===1?e=G+R:i===-1&&(e=-G-R);for(var h=0,a=t.length;h<a;++h)if(o=(d=t[h]).length)for(var d,o,l=d[o-1],c=Dt(l),v=l[1]/2+un,g=C(v),b=H(v),w=0;w<o;++w,c=E,g=y,b=_,l=S){var S=d[w],E=Dt(S),I=S[1]/2+un,y=C(I),_=H(I),k=E-c,A=k>=0?1:-1,L=A*k,T=L>O,B=g*y;if(m.add(ct(B*A*C(L),b*_+B*H(L))),s+=T?k+A*Z:k,T^c>=r^E>=r){var M=_t(ft(l),ft(S));Yt(M);var P=_t(u,M);Yt(P);var p=(T^k>=0?-1:1)*it(P[2]);(e>p||e===p&&(M[0]||M[1]))&&(f+=T^k>=0?1:-1)}}return(s<-R||s<R&&m<-ce)^f&1}function $n(t,n,r,e){return function(i){var u=n(i),s=Bn(),f=n(s),m=!1,h,a,d,o={point:l,lineStart:v,lineEnd:g,polygonStart:function(){o.point=b,o.lineStart=w,o.lineEnd=S,a=[],h=[]},polygonEnd:function(){o.point=l,o.lineStart=v,o.lineEnd=g,a=An(a);var E=he(h,e);a.length?(m||(i.polygonStart(),m=!0),Ln(a,ge,E,r,i)):E&&(m||(i.polygonStart(),m=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),m&&(i.polygonEnd(),m=!1),a=h=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function l(E,I){t(E,I)&&i.point(E,I)}function c(E,I){u.point(E,I)}function v(){o.point=c,u.lineStart()}function g(){o.point=l,u.lineEnd()}function b(E,I){d.push([E,I]),f.point(E,I)}function w(){f.lineStart(),d=[]}function S(){b(d[0][0],d[0][1]),f.lineEnd();var E=f.clean(),I=s.result(),y,_=I.length,k,A,L;if(d.pop(),h.push(d),d=null,!!_){if(E&1){if(A=I[0],(k=A.length-1)>0){for(m||(i.polygonStart(),m=!0),i.lineStart(),y=0;y<k;++y)i.point((L=A[y])[0],L[1]);i.lineEnd()}return}_>1&&E&2&&I.push(I.pop().concat(I.shift())),a.push(I.filter(ve))}}return o}}function ve(t){return t.length>1}function ge(t,n){return((t=t.x)[0]<0?t[1]-G-R:G-t[1])-((n=n.x)[0]<0?n[1]-G-R:G-n[1])}const mn=$n(function(){return!0},me,Ee,[-O,-G]);function me(t){var n=NaN,r=NaN,e=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(u,s){var f=u>0?O:-O,m=K(u-n);K(m-O)<R?(t.point(n,r=(r+s)/2>0?G:-G),t.point(e,r),t.lineEnd(),t.lineStart(),t.point(f,r),t.point(u,r),i=0):e!==f&&m>=O&&(K(n-e)<R&&(n-=e*R),K(u-f)<R&&(u-=f*R),r=ye(n,r,u,s),t.point(e,r),t.lineEnd(),t.lineStart(),t.point(f,r),i=0),t.point(n=u,r=s),e=f},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-i}}}function ye(t,n,r,e){var i,u,s=C(t-r);return K(s)>R?fe((C(n)*(u=H(e))*C(r)-C(e)*(i=H(n))*C(t))/(i*u*s)):(n+e)/2}function Ee(t,n,r,e){var i;if(t==null)i=r*G,e.point(-O,i),e.point(0,i),e.point(O,i),e.point(O,0),e.point(O,-i),e.point(0,-i),e.point(-O,-i),e.point(-O,0),e.point(-O,i);else if(K(t[0]-n[0])>R){var u=t[0]<n[0]?O:-O;i=r*u/2,e.point(-u,i),e.point(0,i),e.point(u,i)}else e.point(n[0],n[1])}function Se(t){var n=H(t),r=6*q,e=n>0,i=K(n)>R;function u(a,d,o,l){pe(l,t,r,o,a,d)}function s(a,d){return H(a)*H(d)>n}function f(a){var d,o,l,c,v;return{lineStart:function(){c=l=!1,v=1},point:function(g,b){var w=[g,b],S,E=s(g,b),I=e?E?0:h(g,b):E?h(g+(g<0?O:-O),b):0;if(!d&&(c=l=E)&&a.lineStart(),E!==l&&(S=m(d,w),(!S||Nt(d,S)||Nt(w,S))&&(w[2]=1)),E!==l)v=0,E?(a.lineStart(),S=m(w,d),a.point(S[0],S[1])):(S=m(d,w),a.point(S[0],S[1],2),a.lineEnd()),d=S;else if(i&&d&&e^E){var y;!(I&o)&&(y=m(w,d,!0))&&(v=0,e?(a.lineStart(),a.point(y[0][0],y[0][1]),a.point(y[1][0],y[1][1]),a.lineEnd()):(a.point(y[1][0],y[1][1]),a.lineEnd(),a.lineStart(),a.point(y[0][0],y[0][1],3)))}E&&(!d||!Nt(d,w))&&a.point(w[0],w[1]),d=w,l=E,o=I},lineEnd:function(){l&&a.lineEnd(),d=null},clean:function(){return v|(c&&l)<<1}}}function m(a,d,o){var l=ft(a),c=ft(d),v=[1,0,0],g=_t(l,c),b=Et(g,g),w=g[0],S=b-w*w;if(!S)return!o&&a;var E=n*b/S,I=-n*w/S,y=_t(v,g),_=St(v,E),k=St(g,I);$t(_,k);var A=y,L=Et(_,A),T=Et(A,A),B=L*L-T*(Et(_,_)-1);if(!(B<0)){var M=j(B),P=St(A,(-L-M)/T);if($t(P,_),P=xt(P),!o)return P;var p=a[0],N=d[0],D=a[1],x=d[1],$;N<p&&($=p,p=N,N=$);var Y=N-p,F=K(Y-O)<R,et=F||Y<R;if(!F&&x<D&&($=D,D=x,x=$),et?F?D+x>0^P[1]<(K(P[0]-p)<R?D:x):D<=P[1]&&P[1]<=x:Y>O^(p<=P[0]&&P[0]<=N)){var z=St(A,(-L+M)/T);return $t(z,_),[P,xt(z)]}}}function h(a,d){var o=e?t:O-t,l=0;return a<-o?l|=1:a>o&&(l|=2),d<-o?l|=4:d>o&&(l|=8),l}return $n(s,f,u,e?[0,-t]:[-O,t-O])}function we(t,n,r,e,i,u){var s=t[0],f=t[1],m=n[0],h=n[1],a=0,d=1,o=m-s,l=h-f,c;if(c=r-s,!(!o&&c>0)){if(c/=o,o<0){if(c<a)return;c<d&&(d=c)}else if(o>0){if(c>d)return;c>a&&(a=c)}if(c=i-s,!(!o&&c<0)){if(c/=o,o<0){if(c>d)return;c>a&&(a=c)}else if(o>0){if(c<a)return;c<d&&(d=c)}if(c=e-f,!(!l&&c>0)){if(c/=l,l<0){if(c<a)return;c<d&&(d=c)}else if(l>0){if(c>d)return;c>a&&(a=c)}if(c=u-f,!(!l&&c<0)){if(c/=l,l<0){if(c>d)return;c>a&&(a=c)}else if(l>0){if(c<a)return;c<d&&(d=c)}return a>0&&(t[0]=s+a*o,t[1]=f+a*l),d<1&&(n[0]=s+d*o,n[1]=f+d*l),!0}}}}}var pt=1e9,Tt=-pt;function Te(t,n,r,e){function i(h,a){return t<=h&&h<=r&&n<=a&&a<=e}function u(h,a,d,o){var l=0,c=0;if(h==null||(l=s(h,d))!==(c=s(a,d))||m(h,a)<0^d>0)do o.point(l===0||l===3?t:r,l>1?e:n);while((l=(l+d+4)%4)!==c);else o.point(a[0],a[1])}function s(h,a){return K(h[0]-t)<R?a>0?0:3:K(h[0]-r)<R?a>0?2:1:K(h[1]-n)<R?a>0?1:0:a>0?3:2}function f(h,a){return m(h.x,a.x)}function m(h,a){var d=s(h,1),o=s(a,1);return d!==o?d-o:d===0?a[1]-h[1]:d===1?h[0]-a[0]:d===2?h[1]-a[1]:a[0]-h[0]}return function(h){var a=h,d=Bn(),o,l,c,v,g,b,w,S,E,I,y,_={point:k,lineStart:B,lineEnd:M,polygonStart:L,polygonEnd:T};function k(p,N){i(p,N)&&a.point(p,N)}function A(){for(var p=0,N=0,D=l.length;N<D;++N)for(var x=l[N],$=1,Y=x.length,F=x[0],et,z,W=F[0],at=F[1];$<Y;++$)et=W,z=at,F=x[$],W=F[0],at=F[1],z<=e?at>e&&(W-et)*(e-z)>(at-z)*(t-et)&&++p:at<=e&&(W-et)*(e-z)<(at-z)*(t-et)&&--p;return p}function L(){a=d,o=[],l=[],y=!0}function T(){var p=A(),N=y&&p,D=(o=An(o)).length;(N||D)&&(h.polygonStart(),N&&(h.lineStart(),u(null,null,1,h),h.lineEnd()),D&&Ln(o,f,p,u,h),h.polygonEnd()),a=h,o=l=c=null}function B(){_.point=P,l&&l.push(c=[]),I=!0,E=!1,w=S=NaN}function M(){o&&(P(v,g),b&&E&&d.rejoin(),o.push(d.result())),_.point=k,E&&a.lineEnd()}function P(p,N){var D=i(p,N);if(l&&c.push([p,N]),I)v=p,g=N,b=D,I=!1,D&&(a.lineStart(),a.point(p,N));else if(D&&E)a.point(p,N);else{var x=[w=Math.max(Tt,Math.min(pt,w)),S=Math.max(Tt,Math.min(pt,S))],$=[p=Math.max(Tt,Math.min(pt,p)),N=Math.max(Tt,Math.min(pt,N))];we(x,$,t,n,r,e)?(E||(a.lineStart(),a.point(x[0],x[1])),a.point($[0],$[1]),D||a.lineEnd(),y=!1):D&&(a.lineStart(),a.point(p,N),y=!1)}w=p,S=N,E=D}return _}}const qt=t=>t;var Ct=new rt,Wt=new rt,Dn,Cn,Gt,Xt,nt={point:X,lineStart:X,lineEnd:X,polygonStart:function(){nt.lineStart=be,nt.lineEnd=Ie},polygonEnd:function(){nt.lineStart=nt.lineEnd=nt.point=X,Ct.add(K(Wt)),Wt=new rt},result:function(){var t=Ct/2;return Ct=new rt,t}};function be(){nt.point=Ne}function Ne(t,n){nt.point=Kn,Dn=Gt=t,Cn=Xt=n}function Kn(t,n){Wt.add(Xt*t-Gt*n),Gt=t,Xt=n}function Ie(){Kn(Dn,Cn)}const yn=nt;var st=1/0,Mt=st,yt=-st,Pt=yt,_e={point:Me,lineStart:X,lineEnd:X,polygonStart:X,polygonEnd:X,result:function(){var t=[[st,Mt],[yt,Pt]];return yt=Pt=-(Mt=st=1/0),t}};function Me(t,n){t<st&&(st=t),t>yt&&(yt=t),n<Mt&&(Mt=n),n>Pt&&(Pt=n)}const kt=_e;var Zt=0,Ut=0,ht=0,Ot=0,Rt=0,ut=0,Vt=0,Jt=0,vt=0,Hn,xn,J,Q,V={point:ot,lineStart:En,lineEnd:Sn,polygonStart:function(){V.lineStart=Oe,V.lineEnd=Re},polygonEnd:function(){V.point=ot,V.lineStart=En,V.lineEnd=Sn},result:function(){var t=vt?[Vt/vt,Jt/vt]:ut?[Ot/ut,Rt/ut]:ht?[Zt/ht,Ut/ht]:[NaN,NaN];return Zt=Ut=ht=Ot=Rt=ut=Vt=Jt=vt=0,t}};function ot(t,n){Zt+=t,Ut+=n,++ht}function En(){V.point=Pe}function Pe(t,n){V.point=ke,ot(J=t,Q=n)}function ke(t,n){var r=t-J,e=n-Q,i=j(r*r+e*e);Ot+=i*(J+t)/2,Rt+=i*(Q+n)/2,ut+=i,ot(J=t,Q=n)}function Sn(){V.point=ot}function Oe(){V.point=Ae}function Re(){Yn(Hn,xn)}function Ae(t,n){V.point=Yn,ot(Hn=J=t,xn=Q=n)}function Yn(t,n){var r=t-J,e=n-Q,i=j(r*r+e*e);Ot+=i*(J+t)/2,Rt+=i*(Q+n)/2,ut+=i,i=Q*t-J*n,Vt+=i*(J+t),Jt+=i*(Q+n),vt+=i*3,ot(J=t,Q=n)}const wn=V;function zn(t){this._context=t}zn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Z);break}}},result:X};var Qt=new rt,Kt,Fn,qn,gt,mt,At={point:X,lineStart:function(){At.point=Be},lineEnd:function(){Kt&&Wn(Fn,qn),At.point=X},polygonStart:function(){Kt=!0},polygonEnd:function(){Kt=null},result:function(){var t=+Qt;return Qt=new rt,t}};function Be(t,n){At.point=Wn,Fn=gt=t,qn=mt=n}function Wn(t,n){gt-=t,mt-=n,Qt.add(j(gt*gt+mt*mt)),gt=t,mt=n}const Tn=At;let bn,Bt,Nn,In;class _n{constructor(n){this._append=n==null?Gn:Le(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,r){switch(this._point){case 0:{this._append`M${n},${r}`,this._point=1;break}case 1:{this._append`L${n},${r}`;break}default:{if(this._append`M${n},${r}`,this._radius!==Nn||this._append!==Bt){const e=this._radius,i=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,Nn=e,Bt=this._append,In=this._,this._=i}this._+=In;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Gn(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=arguments[n]+t[n]}function Le(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Gn;if(n!==bn){const r=10**n;bn=n,Bt=function(i){let u=1;this._+=i[0];for(const s=i.length;u<s;++u)this._+=Math.round(arguments[u]*r)/r+i[u]}}return Bt}function $e(t,n){let r=3,e=4.5,i,u;function s(f){return f&&(typeof e=="function"&&u.pointRadius(+e.apply(this,arguments)),lt(f,i(u))),u.result()}return s.area=function(f){return lt(f,i(yn)),yn.result()},s.measure=function(f){return lt(f,i(Tn)),Tn.result()},s.bounds=function(f){return lt(f,i(kt)),kt.result()},s.centroid=function(f){return lt(f,i(wn)),wn.result()},s.projection=function(f){return arguments.length?(i=f==null?(t=null,qt):(t=f).stream,s):t},s.context=function(f){return arguments.length?(u=f==null?(n=null,new _n(r)):new zn(n=f),typeof e!="function"&&u.pointRadius(e),s):n},s.pointRadius=function(f){return arguments.length?(e=typeof f=="function"?f:(u.pointRadius(+f),+f),s):e},s.digits=function(f){if(!arguments.length)return r;if(f==null)r=null;else{const m=Math.floor(f);if(!(m>=0))throw new RangeError(`invalid digits: ${f}`);r=m}return n===null&&(u=new _n(r)),s},s.projection(t).digits(r).context(n)}function en(t){return function(n){var r=new jt;for(var e in t)r[e]=t[e];return r.stream=n,r}}function jt(){}jt.prototype={constructor:jt,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function rn(t,n,r){var e=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),e!=null&&t.clipExtent(null),lt(r,t.stream(kt)),n(kt.result()),e!=null&&t.clipExtent(e),t}function on(t,n,r){return rn(t,function(e){var i=n[1][0]-n[0][0],u=n[1][1]-n[0][1],s=Math.min(i/(e[1][0]-e[0][0]),u/(e[1][1]-e[0][1])),f=+n[0][0]+(i-s*(e[1][0]+e[0][0]))/2,m=+n[0][1]+(u-s*(e[1][1]+e[0][1]))/2;t.scale(150*s).translate([f,m])},r)}function Xn(t,n,r){return on(t,[[0,0],n],r)}function Zn(t,n,r){return rn(t,function(e){var i=+n,u=i/(e[1][0]-e[0][0]),s=(i-u*(e[1][0]+e[0][0]))/2,f=-u*e[0][1];t.scale(150*u).translate([s,f])},r)}function Un(t,n,r){return rn(t,function(e){var i=+n,u=i/(e[1][1]-e[0][1]),s=-u*e[0][0],f=(i-u*(e[1][1]+e[0][1]))/2;t.scale(150*u).translate([s,f])},r)}var Mn=16,De=H(30*q);function Pn(t,n){return+n?Ke(t,n):Ce(t)}function Ce(t){return en({point:function(n,r){n=t(n,r),this.stream.point(n[0],n[1])}})}function Ke(t,n){function r(e,i,u,s,f,m,h,a,d,o,l,c,v,g){var b=h-e,w=a-i,S=b*b+w*w;if(S>4*n&&v--){var E=s+o,I=f+l,y=m+c,_=j(E*E+I*I+y*y),k=it(y/=_),A=K(K(y)-1)<R||K(u-d)<R?(u+d)/2:ct(I,E),L=t(A,k),T=L[0],B=L[1],M=T-e,P=B-i,p=w*M-b*P;(p*p/S>n||K((b*M+w*P)/S-.5)>.3||s*o+f*l+m*c<De)&&(r(e,i,u,s,f,m,T,B,A,E/=_,I/=_,y,v,g),g.point(T,B),r(T,B,A,E,I,y,h,a,d,o,l,c,v,g))}}return function(e){var i,u,s,f,m,h,a,d,o,l,c,v,g={point:b,lineStart:w,lineEnd:E,polygonStart:function(){e.polygonStart(),g.lineStart=I},polygonEnd:function(){e.polygonEnd(),g.lineStart=w}};function b(k,A){k=t(k,A),e.point(k[0],k[1])}function w(){d=NaN,g.point=S,e.lineStart()}function S(k,A){var L=ft([k,A]),T=t(k,A);r(d,o,a,l,c,v,d=T[0],o=T[1],a=k,l=L[0],c=L[1],v=L[2],Mn,e),e.point(d,o)}function E(){g.point=b,e.lineEnd()}function I(){w(),g.point=y,g.lineEnd=_}function y(k,A){S(i=k,A),u=d,s=o,f=l,m=c,h=v,g.point=S}function _(){r(d,o,a,l,c,v,u,s,i,f,m,h,Mn,e),g.lineEnd=E,E()}return g}}var He=en({point:function(t,n){this.stream.point(t*q,n*q)}});function xe(t){return en({point:function(n,r){var e=t(n,r);return this.stream.point(e[0],e[1])}})}function Ye(t,n,r,e,i){function u(s,f){return s*=e,f*=i,[n+t*s,r-t*f]}return u.invert=function(s,f){return[(s-n)/t*e,(r-f)/t*i]},u}function kn(t,n,r,e,i,u){if(!u)return Ye(t,n,r,e,i);var s=H(u),f=C(u),m=s*t,h=f*t,a=s/t,d=f/t,o=(f*r-s*n)/t,l=(f*n+s*r)/t;function c(v,g){return v*=e,g*=i,[m*v-h*g+n,r-h*v-m*g]}return c.invert=function(v,g){return[e*(a*v-d*g+o),i*(l-d*v-a*g)]},c}function ze(t){var n,r=150,e=480,i=250,u=0,s=0,f=0,m=0,h=0,a,d=0,o=1,l=1,c=null,v=mn,g=null,b,w,S,E=qt,I=.5,y,_,k,A,L;function T(p){return k(p[0]*q,p[1]*q)}function B(p){return p=k.invert(p[0],p[1]),p&&[p[0]*U,p[1]*U]}T.stream=function(p){return A&&L===p?A:A=He(xe(a)(v(y(E(L=p)))))},T.preclip=function(p){return arguments.length?(v=p,c=void 0,P()):v},T.postclip=function(p){return arguments.length?(E=p,g=b=w=S=null,P()):E},T.clipAngle=function(p){return arguments.length?(v=+p?Se(c=p*q):(c=null,mn),P()):c*U},T.clipExtent=function(p){return arguments.length?(E=p==null?(g=b=w=S=null,qt):Te(g=+p[0][0],b=+p[0][1],w=+p[1][0],S=+p[1][1]),P()):g==null?null:[[g,b],[w,S]]},T.scale=function(p){return arguments.length?(r=+p,M()):r},T.translate=function(p){return arguments.length?(e=+p[0],i=+p[1],M()):[e,i]},T.center=function(p){return arguments.length?(u=p[0]%360*q,s=p[1]%360*q,M()):[u*U,s*U]},T.rotate=function(p){return arguments.length?(f=p[0]%360*q,m=p[1]%360*q,h=p.length>2?p[2]%360*q:0,M()):[f*U,m*U,h*U]},T.angle=function(p){return arguments.length?(d=p%360*q,M()):d*U},T.reflectX=function(p){return arguments.length?(o=p?-1:1,M()):o<0},T.reflectY=function(p){return arguments.length?(l=p?-1:1,M()):l<0},T.precision=function(p){return arguments.length?(y=Pn(_,I=p*p),P()):j(I)},T.fitExtent=function(p,N){return on(T,p,N)},T.fitSize=function(p,N){return Xn(T,p,N)},T.fitWidth=function(p,N){return Zn(T,p,N)},T.fitHeight=function(p,N){return Un(T,p,N)};function M(){var p=kn(r,0,0,o,l,d).apply(null,n(u,s)),N=kn(r,e-p[0],i-p[1],o,l,d);return a=de(f,m,h),_=zt(n,N),k=zt(a,_),y=Pn(_,I),P()}function P(){return A=L=null,T}return function(){return n=t.apply(this,arguments),T.invert=n.invert&&B,M()}}function Fe(t){var n=0,r=O/3,e=ze(t),i=e(n,r);return i.parallels=function(u){return arguments.length?e(n=u[0]*q,r=u[1]*q):[n*U,r*U]},i}function qe(t){var n=H(t);function r(e,i){return[e*n,C(i)/n]}return r.invert=function(e,i){return[e/n,it(i*n)]},r}function We(t,n){var r=C(t),e=(r+C(n))/2;if(K(e)<R)return qe(t);var i=1+r*(2*e-r),u=j(i)/e;function s(f,m){var h=j(i-2*e*C(m))/e;return[h*C(f*=e),u-h*H(f)]}return s.invert=function(f,m){var h=u-m,a=ct(f,K(h))*bt(h);return h*e<0&&(a-=O*bt(f)*bt(h)),[a/e,it((i-(f*f+h*h)*e*e)/(2*e))]},s}function tn(){return Fe(We).scale(155.424).center([0,33.6442])}function Ge(){return tn().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Xe(t){var n=t.length;return{point:function(r,e){for(var i=-1;++i<n;)t[i].point(r,e)},sphere:function(){for(var r=-1;++r<n;)t[r].sphere()},lineStart:function(){for(var r=-1;++r<n;)t[r].lineStart()},lineEnd:function(){for(var r=-1;++r<n;)t[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<n;)t[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<n;)t[r].polygonEnd()}}}function Ze(){var t,n,r=Ge(),e,i=tn().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u,s=tn().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,m,h={point:function(o,l){m=[o,l]}};function a(o){var l=o[0],c=o[1];return m=null,e.point(l,c),m||(u.point(l,c),m)||(f.point(l,c),m)}a.invert=function(o){var l=r.scale(),c=r.translate(),v=(o[0]-c[0])/l,g=(o[1]-c[1])/l;return(g>=.12&&g<.234&&v>=-.425&&v<-.214?i:g>=.166&&g<.234&&v>=-.214&&v<-.115?s:r).invert(o)},a.stream=function(o){return t&&n===o?t:t=Xe([r.stream(n=o),i.stream(o),s.stream(o)])},a.precision=function(o){return arguments.length?(r.precision(o),i.precision(o),s.precision(o),d()):r.precision()},a.scale=function(o){return arguments.length?(r.scale(o),i.scale(o*.35),s.scale(o),a.translate(r.translate())):r.scale()},a.translate=function(o){if(!arguments.length)return r.translate();var l=r.scale(),c=+o[0],v=+o[1];return e=r.translate(o).clipExtent([[c-.455*l,v-.238*l],[c+.455*l,v+.238*l]]).stream(h),u=i.translate([c-.307*l,v+.201*l]).clipExtent([[c-.425*l+R,v+.12*l+R],[c-.214*l-R,v+.234*l-R]]).stream(h),f=s.translate([c-.205*l,v+.212*l]).clipExtent([[c-.214*l+R,v+.166*l+R],[c-.115*l-R,v+.234*l-R]]).stream(h),d()},a.fitExtent=function(o,l){return on(a,o,l)},a.fitSize=function(o,l){return Xn(a,o,l)},a.fitWidth=function(o,l){return Zn(a,o,l)},a.fitHeight=function(o,l){return Un(a,o,l)};function d(){return t=n=null,a}return a.scale(1070)}function Ue(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ve(){var t=0,n=.5,r=1,e=1,i,u,s,f,m,h=Rn,a,d=!1,o;function l(v){return isNaN(v=+v)?o:(v=.5+((v=+a(v))-u)*(e*v<e*u?f:m),h(d?Math.max(0,Math.min(1,v)):v))}l.domain=function(v){return arguments.length?([t,n,r]=v,i=a(t=+t),u=a(n=+n),s=a(r=+r),f=i===u?0:.5/(u-i),m=u===s?0:.5/(s-u),e=u<i?-1:1,l):[t,n,r]},l.clamp=function(v){return arguments.length?(d=!!v,l):d},l.interpolator=function(v){return arguments.length?(h=v,l):h};function c(v){return function(g){var b,w,S;return arguments.length?([b,w,S]=g,h=ue(v,[b,w,S]),l):[h(0),h(.5),h(1)]}}return l.range=c(On),l.rangeRound=c(jn),l.unknown=function(v){return arguments.length?(o=v,l):o},function(v){return a=v,i=v(t),u=v(n),s=v(r),f=i===u?0:.5/(u-i),m=u===s?0:.5/(s-u),e=u<i?-1:1,l}}function Vn(){var t=Jn(Ve()(Rn));return t.copy=function(){return Ue(t,Vn())},Qn.apply(t,arguments)}const Je=nn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Qe=nn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),je=t=>te(t[t.length-1]);var tr=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(nn);const nr=je(tr),er={name:"IntakeOutcomeChart",mounted:function(){var t=document.getElementById("yearSelect"),n=document.getElementById("filterSelect"),r=t.value,e=tt("body").append("div").attr("class","tooltip").style("opacity",0),i,u,s,f,m,h=dt(",");Lt("intake_outcome_data.csv").then(function(o){i=o,u=i.filter(function(b){return b.Year===r}),s=Vn().domain([-2e4,0,2e5]).interpolator(nr).range(["red","white","green"]),a(u);for(var l=0,c=0;c<u.length;c++)l+=Number(u[c].net_outcome);l>0?(document.getElementById("KPI").style.color="green",document.getElementById("KPI").innerHTML="&darr; "+h(Math.abs(l))):(document.getElementById("KPI").style.color="red",document.getElementById("KPI").innerHTML="&uarr; "+h(Math.abs(l)));for(var v=0,c=0;c<u.length;c++)v+=Number(u[c].outcome_canine)-Number(u[c].intake_canine);for(var g=0,c=0;c<u.length;c++)g+=Number(u[c].outcome_feline)-Number(u[c].intake_feline);v>0?(document.getElementById("KPI-dog").style.color="green",document.getElementById("KPI-dog").innerHTML="&darr; "+h(Math.abs(v))):(document.getElementById("KPI-dog").style.color="red",document.getElementById("KPI-dog").innerHTML="&uarr; "+h(Math.abs(v))),g>0?(document.getElementById("KPI-cat").style.color="green",document.getElementById("KPI-cat").innerHTML="&darr; "+h(Math.abs(g))):(document.getElementById("KPI-cat").style.color="red",document.getElementById("KPI-cat").innerHTML="&uarr; "+h(Math.abs(g)))}),Lt("intake_data.csv").then(function(o){f=o;var l=f.slice(0,4).filter(function(c){return c.Year===r});d(l[0],"intake")}),Lt("outcome_data.csv").then(function(o){m=o;var l=m.slice(0,4).filter(function(c){return c.Year===r});d(l[0],"outcome")}),t.addEventListener("change",function(o){var l=o.target.value,c=n.value,v=i.filter(function(y){return Number(y.Year)===Number(l)});if(document.getElementById("filterOn").innerHTML=c,c==="All"){var g=f.slice(0,4).filter(function(y){return y.Year===l});a(v);var b=m.slice(0,4).filter(function(y){return y.Year===l});d(b[0],"outcome"),d(g[0],"intake")}else if(c==="Cats"){const y=structuredClone(v);y.map(function(_){_.net_outcome=Number(_.outcome_feline)-Number(_.intake_feline),_.total_outcome=Number(_.outcome_feline),_.total_intake=Number(_.intake_feline)}),a(y)}else if(c==="Dogs"){const y=structuredClone(v);y.map(function(_){_.net_outcome=Number(_.outcome_canine)-Number(_.intake_canine),_.total_outcome=Number(_.outcome_canine),_.total_intake=Number(_.intake_canine)}),a(y)}for(var w=0,S=0;S<v.length;S++)w+=Number(v[S].net_outcome);document.getElementById("KPI").innerHTML=h(w);for(var E=0,S=0;S<v.length;S++)E+=Number(v[S].outcome_canine)-Number(v[S].intake_canine);for(var I=0,S=0;S<v.length;S++)I+=Number(v[S].outcome_feline)-Number(v[S].intake_feline);w>0?(document.getElementById("KPI").style.color="green",document.getElementById("KPI").innerHTML="&darr; "+h(Math.abs(w))):(document.getElementById("KPI").style.color="red",document.getElementById("KPI").innerHTML="&uarr; "+h(Math.abs(w))),document.getElementById("KPI-dog").innerHTML=h(Math.abs(E)),document.getElementById("KPI-cat").innerHTML=h(Math.abs(I)),E>0?(document.getElementById("KPI-dog").style.color="green",document.getElementById("KPI-dog").innerHTML="&darr; "+h(Math.abs(E))):(document.getElementById("KPI-dog").style.color="red",document.getElementById("KPI-dog").innerHTML="&uarr; "+h(Math.abs(E))),I>0?(document.getElementById("KPI-cat").style.color="green",document.getElementById("KPI-cat").innerHTML="&darr; "+h(Math.abs(I))):(document.getElementById("KPI-cat").style.color="red",document.getElementById("KPI-cat").innerHTML="&uarr; "+h(Math.abs(I)))}),n.addEventListener("change",function(o){var l=t.value,c=o.target.value;document.getElementById("state1").innerHTML="National",document.getElementById("filterOn").innerHTML=c;var v=i.filter(function(E){return Number(E.Year)===Number(l)});if(document.getElementById("filterOn").innerHTML=c,c==="All"){a(v);var g=f.slice(0,4).filter(function(E){return E.Year===l});a(v);var b=m.slice(0,4).filter(function(E){return E.Year===l});d(b[0],"outcome"),d(g[0],"intake")}else if(c==="Cats"){var w=structuredClone(v);w.map(function(y){y.net_outcome=Number(y.outcome_feline)-Number(y.intake_feline),y.total_outcome=Number(y.outcome_feline),y.total_intake=Number(y.intake_feline)});var g=f.slice(4,8).filter(function(y){return y.Year===l}),b=m.slice(4,8).filter(function(y){return y.Year===l});d(b[0],"outcome"),d(g[0],"intake"),a(w)}else if(c==="Dogs"){var S=structuredClone(v);S.map(function(y){y.net_outcome=Number(y.outcome_canine)-Number(y.intake_canine),y.total_outcome=Number(y.outcome_canine),y.total_intake=Number(y.intake_canine)});var g=f.slice(209,213).filter(function(y){return y.Year===l}),b=m.slice(209,213).filter(function(y){return y.Year===l});d(b[0],"outcome"),d(g[0],"intake"),a(S)}document.getElementById("filterOn").innerHTML=c});function a(o){oe("us-states.json").then(function(l){var c=tt("#choMap");c.selectAll("*").remove();var v=document.getElementById("cho-map-div").clientWidth,g=c.node().getBoundingClientRect().height,b={top:10,right:10,bottom:30,left:10},w=c.append("svg").attr("width",v-b.left-b.right).attr("height",g-b.top-b.bottom),S=Ze().translate([v/2,g/2-20]).scale([600]),E=$e().projection(S);w.selectAll("path").data(l.features).enter().append("path").attr("d",E).attr("stroke","black").attr("stroke-width","0.5").style("fill",function(T){var B=T.properties.name,M=o.find(P=>P.State===B);return M?s(Number(M.net_outcome)):"gray"}).on("mouseover",function(T,B){var M=B.properties.name,P=o.find(N=>N.State===M);if(P){e.transition().duration(200).style("opacity",.9);var p=P.net_outcome>0?"Decrease":"Increase";e.html(M+"<br/>Anual "+p+": "+h(P.net_outcome)+"<br/>Total Intake: "+h(P.total_intake)+"<br/>Total Outcome: "+h(P.total_outcome)).style("left",T.pageX+5+"px").style("top",T.pageY-28+"px")}}).on("mouseout",function(){e.transition().duration(500).style("opacity",0)}).on("click",function(T,B){if(tt(this).style("stroke-width")==="5"){tt(this).style("stroke-width","0.5").style("stroke","black").style("opacity",1),w.selectAll("text").remove();var M=t.value,P=n.value;if(document.getElementById("state1").innerText="National",P==="All"){var p=f.slice(0,4).filter(function(F){return F.Year===M}),N=m.slice(0,4).filter(function(F){return F.Year===M});d(N[0],"outcome"),d(p[0],"intake")}else if(P==="Cats"){var p=f.slice(4,8).filter(function(z){return z.Year===M}),N=m.slice(4,8).filter(function(z){return z.Year===M});d(N[0],"outcome"),d(p[0],"intake")}else if(P==="Dogs"){var p=f.slice(209,213).filter(function(z){return z.Year===M}),N=m.slice(209,213).filter(function(z){return z.Year===M});d(N[0],"outcome"),d(p[0],"intake")}}else{w.selectAll("text").remove(),w.selectAll("path").style("stroke-width","0.5").style("stroke","black").style("opacity",1),tt(this).style("stroke-width","5").style("stroke","black").style("opacity",1);var D=B.properties.name;o.find(W=>W.State===D),document.getElementById("state1").innerText=D;var M=t.value,x=n.value,p=f.filter(function(W){return W.Year===M&&W.State===D}),N=m.filter(function(W){return W.Year===M&&W.State===D});if(x==="Cats")d(p[0],"intake"),d(N[0],"outcome");else if(x==="Dogs")d(N[1],"outcome"),d(p[1],"intake");else if(x==="All"){var $=structuredClone(N[0]),Y=structuredClone(p[0]);$["Adoption Total"]=Number($["Adoption Total"])+Number(N[1]["Adoption Total"]),$["Returned To Owner Total"]=Number($["Returned To Owner Total"])+Number(N[1]["Returned To Owner Total"]),$["Transferred Out Total"]=Number($["Transferred Out Total"])+Number(N[1]["Transferred Out Total"]),$["Returned To Field Total"]=Number($["Returned To Field Total"])+Number(N[1]["Returned To Field Total"]),$["Other Live Outcome Total"]=Number($["Other Live Outcome Total"])+Number(N[1]["Other Live Outcome Total"]),$.Others=Number($.Others)+Number(N[1].Others),Y["Relinquished By Owner Total"]=Number(Y["Relinquished By Owner Total"])+Number(p[1]["Relinquished By Owner Total"]),Y["Stray At Large Total"]=Number(Y["Stray At Large Total"])+Number(p[1]["Stray At Large Total"]),Y["Transferred In Total"]=Number(Y["Transferred In Total"])+Number(p[1]["Transferred In Total"]),Y["Owner Intended Euthanasia Total"]=Number(Y["Owner Intended Euthanasia Total"])+Number(p[1]["Owner Intended Euthanasia Total"]),Y["Other Intakes Total"]=Number(Y["Other Intakes Total"])+Number(p[1]["Other Intakes Total"]),d($,"outcome"),d(Y,"intake")}}});var I=300,y=g,_=c.append("svg").attr("width",I).attr("height",y).attr("class","legend"),k=_.append("defs"),A=k.append("linearGradient").attr("id","legendGradient").attr("x1","0%").attr("y1","0%").attr("x2","50%").attr("y2","0%");A.selectAll("stop").data(s.range()).enter().append("stop").attr("offset",function(T,B){return B/(s.range().length-1)}).attr("stop-color",function(T){return T}),_.append("rect").attr("width",I).attr("height",20).style("fill","url(#legendGradient)").attr("transform","translate(10,410)"),_.append("text").attr("x",10).attr("y",450).text("Annual Decrease").style("fill","black");var L=_.selectAll(".tick").data(s.domain()).enter().append("g").attr("class","tick").attr("transform",function(T){return"translate(10,410)"});L.append("text").text(function(T){return dt(",.2~s")(T)}).attr("x",function(T,B){return B===1?-100:B*(I/(s.domain().length-1)-5)}).attr("y",15).style("text-anchor",function(T,B){return B===s.domain().length-1?"end":"start"}).style("fill","white")})}function d(o,l="intake"){if(l==="intake"){var c="chart2-div",v="pie_chart1",g=Number(o["Relinquished By Owner Total"])+Number(o["Stray At Large Total"])+Number(o["Transferred In Total"])+Number(o["Owner Intended Euthanasia Total"])+Number(o["Other Intakes Total"]);o=[{name:"Relinquished By Owner",value:Number(o["Relinquished By Owner Total"])},{name:"Stray At Large",value:Number(o["Stray At Large Total"])},{name:"Transferred In",value:Number(o["Transferred In Total"])},{name:"Owner Intended Euthanasia",value:Number(o["Owner Intended Euthanasia Total"])},{name:"Other Intake",value:Number(o["Other Intakes Total"])}]}else{var c="chart3-div",v="pie_chart2",g=Number(o["Adoption Total"])+Number(o["Returned To Owner Total"])+Number(o["Transferred Out Total"])+Number(o["Returned To Field Total"])+Number(o["Other Live Outcome Total"])+Number(o.Others);o=[{name:"Adopted",value:Number(o["Adoption Total"])},{name:"Returned To Owner",value:Number(o["Returned To Owner Total"])},{name:"Transferred Out",value:Number(o["Transferred Out Total"])},{name:"Returned To Field",value:Number(o["Returned To Field Total"])},{name:"Other Live Outcome",value:Number(o["Other Live Outcome Total"])},{name:"Died Outcome",value:Number(o.Others)}]}var E=document.getElementById(c).clientWidth,I=600;const b=15,w=4;var S={top:10,right:20,bottom:120,left:20},E=E-S.left-S.right,I=I-S.top-S.bottom;const y=Math.min(E,I)/2.5;if(l==="intake")var _=an(Je);else var _=an(Qe);document.getElementById(v).innerHTML="";const k=tt("#"+v).append("svg").attr("width",E).attr("height",I).append("g").attr("transform","translate("+E/2+","+I/2.5+")"),L=ae().value(M=>M.value).sort(null)(Object.values(o)),T=ln().innerRadius(y/1.8).outerRadius(y);k.append("text").attr("class",l+"-donut-label").attr("text-anchor","middle").style("font-size",16).attr("dy",0).selectAll("tspan").data(["Total:",dt("~s")(g)]).enter().append("tspan").text(M=>M).attr("x",0).attr("dy",(M,P)=>P*20),k.selectAll("path").data(L).enter().append("path").attr("d",T).attr("fill",(M,P)=>_(o[P].name)).attr("stroke","white").style("stroke-width","2px").style("opacity",.7).on("mouseover",function(M,P){tt(this).transition().duration(200).attr("d",ln().innerRadius(y/1.8).outerRadius(y*1.1)).style("opacity",1);var p=P.data.value/g*100;k.select("."+l+"-donut-label").remove(),k.append("text").attr("class",l+"-donut-label").attr("text-anchor","middle").style("font-size",16).attr("dy",0).selectAll("tspan").data(["Percentage:",dt(",.2~f")(p)+"%"]).enter().append("tspan").text(N=>N).attr("x",0).attr("dy",(N,D)=>D*20)}).on("mouseout",function(){k.select("."+l+"-donut-label").remove(),k.append("text").attr("class",l+"-donut-label").attr("text-anchor","middle").style("font-size",16).attr("dy",0).selectAll("tspan").data(["Total:",dt("~s")(g)]).enter().append("tspan").text(M=>M).attr("x",0).attr("dy",(M,P)=>P*20),tt(this).transition().duration(200).attr("d",T).style("opacity",.7)});const B=k.selectAll(".legend").data(o.map(M=>M.name)).enter().append("g").attr("class","legend").attr("transform",(M,P)=>{const x=P%1,$=Math.floor(P/1),Y=x*250-E/2+10,F=$*18+I/2-80;return"translate("+Y+","+F+")"});B.append("rect").attr("width",b).attr("height",b).style("fill",(M,P)=>_(o[P].name)).style("stroke",_),B.append("text").attr("x",b+w).attr("y",b-w).text(M=>M).style("font-size",15)}}},rr={class:"IntakeOutcomeChart"},ir=ie('<h1 class="title">Annual Change of Number of Animals in Shelter</h1><div class="row"><div class="col"><div class="stat-card"><div class="d-flex justify-content-between"><div class="stat-title">Annual Change - All</div><span class="stat-icon">üìà</span></div><div class="stat-number" id="KPI"></div></div></div><div class="col"><div class="stat-card"><div class="d-flex justify-content-between"><div class="stat-title">Annual Change - Dogs</div><span class="stat-icon">üê∂</span></div><div class="stat-number" id="KPI-dog"></div></div></div><div class="col"><div class="stat-card"><div class="d-flex justify-content-between"><div class="stat-title">Annual Change - Cats</div><span class="stat-icon">üê±</span></div><div class="stat-number" id="KPI-cat"></div></div></div></div><div class="row mt-3"><div class="col"><div class="card"><div class="card-body"><h4> Annual Change (# of Animals In Shelter)- <text id="state1">National</text> - <text id="filterOn">All</text></h4><div class="row mt-3"><div class="col"><div class="row"><div class="col-md-6"><div class="form-group mb-2"><label for="yearSelect">Select Year:</label><select class="form-control" id="yearSelect"><option>2019</option><option>2020</option><option>2021</option><option selected>2022</option></select></div></div><div class="col-md-6"><div class="form-group mb-2"><label for="filterSelect">Filter By:</label><select class="form-control" id="filterSelect"><option selected>All</option><option>Cats</option><option>Dogs</option></select></div></div></div></div></div><div class="row"><div class="col-md-3" id="chart2-div" style="overflow:hidden;"><h6> Intake BreakDown</h6><svg id="pie_chart1" width="100%" height="450"></svg></div><div class="col-md-6" id="cho-map-div"><svg id="choMap" width="100%" height="460"></svg></div><div class="col-md-3" id="chart3-div" style="overflow:hidden;"><h6> Outcome BreakDown</h6><svg id="pie_chart2" width="100%" height="450"></svg></div></div><text>Positive number means there is a decrease in number of animals in Shelter</text><br><text>Negative number means there is an increase in number of animals in Shelter</text></div></div></div></div>',3),or=[ir];function ar(t,n,r,e,i,u){return ee(),re("div",rr,or)}const sr=ne(er,[["render",ar]]);export{sr as default};
